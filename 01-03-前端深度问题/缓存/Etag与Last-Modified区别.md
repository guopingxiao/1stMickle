我们的Web服务器上面的文件最后修改时间会频繁的变动，但是文件内存却没有修改。那么对于Last-Modified的缓存协商，每次都会重新获取文件，而不会使用缓存。

还有一种生产中比较常见的场景，比如我们在集群环境中，相同的问题如果保存在不同的服务器上，在负载均衡的时候用户的请求会被分配到这些不同的服务器中，
但是我们很难保证相同的文件在所有服务器上的最后修改时间都是一致的。那么这样用户请求被分发的时间比较新的服务器上可能会导致浏览器会重新获取网页内容。






Etag由服务器返回，内容为资源的唯一标识，生成规则由服务器决定。 Apache中，Etag的值为文件的索引节（INode），大小（Size）和最后修改时间（MTime）进行Hash后得到的。
        CDN资源通常不用。使用CDN后，所有节点etag必须同步
last-modified可以由服务器根据系统调用，生成硬盘的最后修改时间，但是这个时间由系统决定：可能因为拷贝而改变修改时间，也可能因为不能同服务器写入磁盘的时间不同
             文件内容不变，last-modified也可能发生变化

Etag的优先级 大于 Last-Modified的优先级
需要处理一秒内多次修改的情况，或者其他Last-Modified处理不了的情况，才使用ETag，否则使用Last-Modified。



分布式系统里多台机器间文件的last-modified必须保持一致，以免负载均衡到不同机器导致比对失败
分布式系统尽量关闭掉Etag(每台机器生成的etag都会不一样)
